import{j as e,m as p,S as u}from"./app-DTc8W7d9.js";import{D as h}from"./dashboard-layout-BuRDtDMz.js";import{c as g,B as c}from"./button-DGBybLwW.js";import{F as j,a as f,U as v,b as N,c as y,d as b,e as S,f as C,g as w}from"./file-upload-CnMOk-cF.js";import{I as d}from"./input-B2d1Kcrg.js";import{L as l}from"./label-FivQ6iZ5.js";import{S as F,a as U,b as D,c as I,d as z,e as _,f as q}from"./select-BqO26vy6.js";import{X as L}from"./site-header-DZKEDyxz.js";import"./app-D_kBZRcr.js";import"./createLucideIcon-MS-9jwif.js";import"./index-CP4-Ol3q.js";import"./dropdown-menu-B1zSdFuv.js";import"./sweetalert2.esm.all-DWO__QVt.js";function B({className:n,...a}){return e.jsx("textarea",{"data-slot":"textarea",className:g("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...a})}function J({categories:n,product:a}){const{data:i,setData:t,post:m,processing:o,errors:r}=p({name:a?a.name:"",category_id:a?a.category_id:"",price:a?a.price:"",company:a?a.company:"",description:a?a.description:"",image:null}),x=s=>{s.preventDefault(),a?u.post(route("products.update",[a.id]),{...i,_method:"put"},{preserveScroll:!0}):m(route("products.store"),{preserveScroll:!0})};return e.jsx(h,{children:e.jsxs("div",{className:"p-10",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Product"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Create product form"}),e.jsxs("form",{onSubmit:x,className:"mt-5 max-w-2xl space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Name"}),e.jsx(d,{required:!0,value:i.name,onChange:s=>t("name",s.target.value)}),r.name&&e.jsx("p",{className:"mt-2 text-red-500",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Category"}),e.jsxs(F,{required:!0,value:i.category_id,onValueChange:s=>t("category_id",s),children:[e.jsx(U,{className:"w-full",children:e.jsx(D,{placeholder:"Select a category"})}),e.jsx(I,{children:e.jsxs(z,{children:[e.jsx(_,{children:"Category"}),n.map(s=>e.jsx(q,{value:s.id,children:s.name}))]})})]}),r.category_id&&e.jsx("p",{className:"mt-2 text-red-500",children:r.category_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Price"}),e.jsx(d,{required:!0,value:i.price,onChange:s=>t("price",s.target.value),name:"price",type:"number"}),r.price&&e.jsx("p",{className:"mt-2 text-red-500",children:r.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Company"}),e.jsx(d,{value:i.company,onChange:s=>t("company",s.target.value),name:"company",required:!0}),r.company&&e.jsx("p",{className:"mt-2 text-red-500",children:r.company})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Description"}),e.jsx(B,{value:i.description,name:"description",onChange:s=>t("description",s.target.value)}),r.description&&e.jsx("p",{className:"mt-2 text-red-500",children:r.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Image"}),e.jsxs(j,{name:"image",maxFiles:1,accept:"image/*",maxSize:5*1024*1024,className:"w-full",value:i.image?[i.image]:void 0,onValueChange:s=>t("image",s[0]),children:[e.jsxs(f,{children:[e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("div",{className:"flex items-center justify-center rounded-full border p-2.5",children:e.jsx(v,{className:"text-muted-foreground size-6"})}),e.jsx("p",{className:"text-sm font-medium",children:"Drag & drop files here"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Or click to browse (max 1 files, up to 5MB)"})]}),e.jsx(N,{asChild:!0,children:e.jsx(c,{variant:"outline",size:"sm",className:"mt-2 w-fit",children:"Browse files"})})]}),e.jsx(y,{children:i.image&&e.jsxs(b,{value:i.image,children:[e.jsx(S,{}),e.jsx(C,{}),e.jsx(w,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",className:"size-7",children:e.jsx(L,{})})})]})})]}),(a==null?void 0:a.image)&&!i.image&&e.jsxs("div",{className:"flex items-center gap-5 rounded-lg border p-3",children:[e.jsx("img",{className:"aspect-square w-20 rounded object-cover",src:`https://admin.fullstressdigital.id/storage/${a.image}`,alt:""}),e.jsx("p",{children:a.image.replace("product/","")})]}),r.image&&e.jsx("p",{className:"text-red-500",children:r.image})]}),e.jsx(c,{disabled:o,children:"Submit"})]})]})})}export{J as default};
