import{m as p,j as e,S as u}from"./app--_CPEeYz.js";import{D as h}from"./dashboard-layout-DzNu7EsM.js";import{B as m}from"./button-B_u8L6qF.js";import{F as j,a as g,U as f,b as N,c as v,d as b,e as F,f as U,g as k}from"./file-upload-ar41TLQp.js";import{I as d}from"./input-D7pFVQqx.js";import{L as o}from"./label-c1NRDK2e.js";import{X as S}from"./site-header-DqXe-WQ0.js";import"./app-Brn6tO4v.js";import"./createLucideIcon-DleM4sag.js";import"./index-KR54JQV1.js";import"./dropdown-menu-COn7bEHD.js";import"./sweetalert2.esm.all-DWO__QVt.js";function P({product:i,variant:s}){const{data:a,setData:l,post:c,errors:t,processing:n}=p({variant_name:s?s.variant_name:"",image:null,product_id:i.id,stock:s?s.stock:""}),x=r=>{r.preventDefault(),s?u.post(route("products.variants.update",[i.id,s.id]),{...a,_method:"put"},{preserveScroll:!0}):c(route("products.variants.store",[i.id]),{preserveScroll:!0})};return e.jsx(h,{children:e.jsxs("div",{className:"p-10",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Variant"}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Create variant form for ",i.name]}),e.jsxs("form",{onSubmit:x,className:"mt-5 max-w-2xl space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Variant Name"}),e.jsx(d,{name:"variant_name",required:!0,value:a.variant_name,onChange:r=>l("variant_name",r.target.value)}),t.variant_name&&e.jsx("p",{className:"mt-2 text-red-500",children:t.variant_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Stock"}),e.jsx(d,{required:!0,value:a.stock,onChange:r=>l("stock",r.target.value),name:"stock",type:"number"}),t.stock&&e.jsx("p",{className:"mt-2 text-red-500",children:t.stock})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Image"}),e.jsxs(j,{name:"image",maxFiles:1,accept:"image/*",maxSize:5*1024*1024,className:"w-full",value:a.image?[a.image]:void 0,onValueChange:r=>l("image",r[0]),children:[e.jsxs(g,{children:[e.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[e.jsx("div",{className:"flex items-center justify-center rounded-full border p-2.5",children:e.jsx(f,{className:"text-muted-foreground size-6"})}),e.jsx("p",{className:"text-sm font-medium",children:"Drag & drop files here"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Or click to browse (max 1 files, up to 5MB)"})]}),e.jsx(N,{asChild:!0,children:e.jsx(m,{variant:"outline",size:"sm",className:"mt-2 w-fit",children:"Browse files"})})]}),e.jsx(v,{children:a.image&&e.jsxs(b,{value:a.image,children:[e.jsx(F,{}),e.jsx(U,{}),e.jsx(k,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"icon",className:"size-7",children:e.jsx(S,{})})})]})})]}),(s==null?void 0:s.image)&&!a.image&&e.jsxs("div",{className:"flex items-center gap-5 rounded-lg border p-3",children:[e.jsx("img",{className:"aspect-square w-20 rounded object-cover",src:`https://admin.fullstressdigital.id/storage/${s.image}`,alt:""}),e.jsx("p",{children:s.image.replace("product/","")})]}),t.image&&e.jsx("p",{className:"text-red-500",children:t.image})]}),e.jsx(m,{disabled:n,children:"Submit"})]})]})})}export{P as default};
